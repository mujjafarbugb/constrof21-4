import{r as a,j as s,a as e,L as g,F as u,Q as C}from"./index.81de7608.js";import{H as T}from"./HomeBredCurbs.1ad3222c.js";import{P as H}from"./index.e770f043.js";import{h as L}from"./house.9786a1f6.js";import{I as z,a as V,b as $}from"./index.ad25d36c.js";import{M as E}from"./index.b3e2825e.js";import{a as d}from"./axios.74c9240f.js";import{F as G}from"./index.4608a536.js";import"./index.esm.b0dae23c.js";import"./iconBase.a00758a9.js";const re=()=>{a.exports.useState("Cancel"),a.exports.useState("bg-black-300");const[m,R]=a.exports.useState([]),[_,S]=a.exports.useState([]),[p,b]=a.exports.useState(!1),I=localStorage.getItem("profile"),n=JSON.parse(I),[v,A]=a.exports.useState(null),[x,P]=a.exports.useState(!1),[l,j]=a.exports.useState(1),[h]=a.exports.useState(5);console.log(17,n);const N=Math.ceil(m.length/h),f=t=>j(t),w=l*h,q=w-h;m.slice(q,w),a.exports.useEffect(()=>{d.get("https://constrobackend17-4.onrender.com/api/get_All_Providers?page=1&limit=10").then(t=>{console.log(t.data.Result);let r=[...t.data.Result];v==="ascending"?r.sort((o,c)=>o.firmName.localeCompare(c.firmName)):v==="descending"&&r.sort((o,c)=>c.firmName.localeCompare(o.firmName)),R(r)}).catch(t=>{console.log(t)}),d.get("https://constrobackend17-4.onrender.com/api/get_All_vendorBankReq").then(t=>{console.log(31,t.data.Result),S(t.data.Result)}).catch(t=>{console.log(t)})},[p]);const B=()=>{window.history.back()},y=()=>{P(!x)},F=t=>{A(t),y()},O=(t,r,o,c)=>{const k={providerId:t,ContractorPro_firmName:r,ContractorPro_firmRepresentative:o,ContractorPro_representativeDesignation:c,receiverId:n._id,clientRec_firmName:n.firmName,clientRec_firmRepresentative:n.firmRepresentative,clientRec_representativeDesignation:n.representativeDesignation,who_sendReq:"client_to_contractor"};console.log(k),d.post("https://constrobackend17-4.onrender.com/api/post_vendorBankReq",k).then(i=>{console.log(i.data),b(!p),C.success(i.data.message)}).catch(i=>{console.log(i)})},D=t=>_.some(o=>o.receiverId===(n==null?void 0:n._id)&&o.providerId===t&&o.isAccepted===!1&&o.isActive===!0),M=t=>{const r={receiverId:n._id,providerId:t};d.post("https://constrobackend17-4.onrender.com/api/cancelVendorBankRequest",r).then(o=>{console.log(o.data),b(!p),C.success(o.data.message)}).catch(o=>{console.log(o)})};return s("div",{children:[e(T,{title:"All Contractor Page "}),s("div",{className:"flex items-center text-slate-400 ",children:[s(g,{to:"",className:"flex items-center text-sm hover:underline hover:font-semibold hover:text-blue-400 cursor-pointer gap-1",onClick:B,children:[e(z,{className:"text-xl font-semibold"}),"Back"]}),e("span",{className:"mx-2",children:" / "}),s(g,{to:"/dashboard",className:"flex items-center text-sm  hover:underline hover:font-semibold hover:text-blue-400 cursor-pointer gap-1",children:[e(E,{className:"text-lg font-semibold"}),"Home"]}),s("div",{className:"ml-auto relative flex items-center",children:[s("div",{className:"ml-4 relative",children:[e("div",{className:"absolute inset-y-0 left-0 pl-1 flex items-center pointer-events-none",children:e("svg",{className:"h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M13.442 14.858c1.288-1.195 2.042-2.843 2.042-4.599C15.484 6.241 12.243 3 8.242 3 4.242 3 1 6.241 1 10.259c0 4.019 3.242 7.26 7.242 7.26 1.498 0 2.895-.474 4.084-1.282l3.942 3.942c.195.195.451.293.707.293.244 0 .512-.097.707-.293a.999.999 0 000-1.414l-3.942-3.942zM8.242 15.259c-3.252 0-5.892-2.64-5.892-5.892 0-3.252 2.64-5.892 5.892-5.892 3.252 0 5.892 2.64 5.892 5.892 0 3.252-2.64 5.892-5.892 5.892z",clipRule:"evenodd"})})}),e("input",{type:"text",placeholder:"Search...",className:"pl-10 border border-gray-300 rounded-md py-2 px-4 text-sm focus:outline-none focus:border-blue-400 shadow-md"})]}),e("div",{className:"mx-3 ",children:s("button",{className:"gap-4 flex items-center text-sm hover:font-semibold hover:text-blue-400 cursor-pointer shadow-md px-4 py-2 ",onClick:y,children:[s("span",{className:"flex items-center gap-2",children:[e(G,{}),"Filters"]}),x?e(V,{className:"text-xl"}):e($,{className:"text-xl"})]})}),x&&e("div",{className:"absolute right-0 w-[165px] rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5",style:{marginTop:"8rem"},children:s("div",{className:"py-1 text-center",children:[e("button",{className:"block px-4 py-2 text-sm text-gray-400 hover:bg-gray-50 hover:text-gray-900",onClick:()=>F("ascending"),children:"Sort ascending"}),e("button",{className:"block px-4 py-2 text-sm text-gray-400 hover:bg-gray-50 hover:text-gray-900",children:"Sort by time"})]})})]})]}),m.map(t=>e(u,{children:e("div",{class:" bg-white shadow rounded-lg w-full mt-3",children:s("div",{class:"latest_jobs flex flex-col md:flex-row items-center text-center md:text-left w-full md:w-auto hover:bg-black-50",children:[e("div",{class:" rounded-full md:mb-0 md:mr-4 p-2",children:e("img",{className:"h-[70px] w-[70px] rounded-full ",src:L,alt:""})}),s("div",{class:"flex-1 md:px-3 md:text-left",children:[e("h4",{className:"text-xl font-semibold text-color-white md:mt-0",children:t.firmName}),e("div",{class:" flex flex-col items-center md:flex-row md:items-center justify-center md:justify-start",children:s("span",{class:"card-subtitle text-slate-400 text-sm font-normal flex items-center md:mr-2",children:[e(H,{className:"text-2xl text-slate-500"}),s("span",{className:"text-lg",children:[" ","\xA0",t.firmRepresentative," |"," ",t.representativeDesignation]})]})})]}),e("div",{class:"flex justify-center mt-2",children:e(g,{to:`/viewProf/${t._id}`,class:"bg-[#00adee] hover:bg-[#6fcaeb] text-white font-bold px-3 py-2 rounded flex items-center",children:"View Profile"})}),e("div",{className:"flex justify-center mt-2 mx-3",children:D(t._id)?e(u,{children:e("button",{className:`text-white font-bold px-4 py-2 rounded flex items-center 
                    bg-danger`,onClick:r=>{M(t._id)},children:"Cancel"})}):e(u,{children:e("button",{className:`text-white font-bold px-4 py-2 rounded flex items-center 
                    bg-[#1fcfcd]`,onClick:r=>{O(t._id,t.firmName,t.firmRepresentative,t.representativeDesignation)},children:"+ Add"})})})]})})})),e("div",{className:"flex justify-center my-4",children:s("nav",{className:"relative z-0 inline-flex shadow-sm",children:[e("button",{onClick:()=>f(l-1),disabled:l===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-[#00adee] text-sm font-medium text-white ",children:"Previous"}),[...Array(N)].map((t,r)=>e("button",{onClick:()=>f(r+1),className:`-ml-px relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium ${l===r+1?"text-[#00adee]":"text-gray-400 hover:bg-gray-50"}`,children:r+1},r)),e("button",{onClick:()=>f(l+1),disabled:l===N,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-[#00adee] text-sm font-medium text-white",children:"Next"})]})})]})};export{re as default};
