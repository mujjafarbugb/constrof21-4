import{r as l,j as s,a as t,L as n,F as E}from"./index.81de7608.js";import{H as B}from"./HomeBredCurbs.e6fb8cac.js";import{I as T}from"./index.ad25d36c.js";import{M as j}from"./index.b3e2825e.js";import{a as r}from"./axios.74c9240f.js";import"./index.esm.b0dae23c.js";import"./iconBase.a00758a9.js";const G=()=>{l.exports.useState([]);const[p,F]=l.exports.useState(""),[x,h]=l.exports.useState([]),[u,g]=l.exports.useState([]),[c,f]=l.exports.useState([]),b=localStorage.getItem("user"),v=JSON.parse(b);console.log(31,v.user._id);const[N,A]=l.exports.useState([]),[y,S]=l.exports.useState([]);l.exports.useState(null),l.exports.useState(!1);const w=localStorage.getItem("profile"),C=JSON.parse(w),[H,_]=l.exports.useState();l.exports.useState();const[R,M]=l.exports.useState(!1),[d,O]=l.exports.useState([]),[i,V]=l.exports.useState([]),D=()=>{window.history.back()};l.exports.useEffect(()=>{r.get(`https://constrobackend17-4.onrender.com/api/get_RegisteredClients/${C._id}`).then(e=>{console.log(23,e.data.Result),_(e.data.Result);const a=e.data.Result.map(k=>k.receiverId._id);h(a),m(a)}).catch(e=>{console.log(e)}),r.get("https://constrobackend17-4.onrender.com/api/get_all_expertise").then(e=>{f(e.data.Result)}).catch(e=>{console.log(e)}),r.get("https://constrobackend17-4.onrender.com/api/getAll_Cities_ddl").then(e=>{console.log(e.data.Result),S(e.data.Result)}).catch(e=>{console.log(e)})},[R]);const I=e=>{const o=e.target.value,a=e.target.name;A(o),console.log("Selected Cities:",a),setData({...data,[a]:o})},m=e=>{const o={receiver:e||x};console.log(o),r.post(`https://constrobackend17-4.onrender.com/api/get_provider_tenders?city=${d}&expertise=${i}`,o).then(a=>{console.log("UserTender",a.data),g(a.data.Result)}).catch(a=>{console.log(a)})};return l.exports.useEffect(()=>{m()},[d,i]),s("div",{children:[t(B,{title:"Find EOI Page "}),s("div",{className:"flex items-center text-slate-400 ",children:[s(n,{to:"",className:"flex items-center text-sm hover:underline hover:font-semibold hover:text-blue-400 cursor-pointer gap-1",onClick:D,children:[t(T,{className:"text-xl font-semibold"}),"Back"]}),t("span",{className:"mx-2",children:" / "}),s(n,{to:"/ContractorDash",className:"flex items-center text-sm  hover:underline hover:font-semibold hover:text-blue-400 cursor-pointer gap-1",children:[t(j,{className:"text-lg font-semibold"}),"Home"]}),t("div",{className:"ml-auto relative flex items-center",children:s("div",{className:"ml-4 relative",children:[t("div",{className:"absolute inset-y-0 left-0 pl-1 flex items-center pointer-events-none",children:t("svg",{className:"h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:t("path",{fillRule:"evenodd",d:"M13.442 14.858c1.288-1.195 2.042-2.843 2.042-4.599C15.484 6.241 12.243 3 8.242 3 4.242 3 1 6.241 1 10.259c0 4.019 3.242 7.26 7.242 7.26 1.498 0 2.895-.474 4.084-1.282l3.942 3.942c.195.195.451.293.707.293.244 0 .512-.097.707-.293a.999.999 0 000-1.414l-3.942-3.942zM8.242 15.259c-3.252 0-5.892-2.64-5.892-5.892 0-3.252 2.64-5.892 5.892-5.892 3.252 0 5.892 2.64 5.892 5.892 0 3.252-2.64 5.892-5.892 5.892z",clipRule:"evenodd"})})}),t("input",{type:"text",placeholder:"Search...",className:"pl-10 border border-gray-300 rounded-md py-2 px-4 text-sm focus:outline-none focus:border-blue-400 shadow-md"})]})})]}),s("div",{className:" mt-3 row ",children:[t("div",{className:"col-lg-6 mb-3 mb-lg-0",children:s("select",{class:"form-select shadow-md p-3","aria-label":"Default select example",name:"scope",value:p,onChange:e=>console.log(133,e.target.value),children:[t("option",{selected:!0,children:"All Expertises"}),c==null?void 0:c.map(e=>t("option",{value:e._id,className:"text-sm",children:e.expertise},e._id))]})}),t("div",{className:"col-lg-6",children:s("select",{class:"form-select shadow-md p-3","aria-label":"Default select example",name:"city",value:N,onChange:e=>I(e),children:[t("option",{selected:!0,children:"All Cities"}),y.map(e=>t("option",{value:e._id,className:"text-sm",children:e.city},e._id))]})})]}),t("div",{className:"bg-white rounded-lg row mt-3",children:u.map(e=>t(E,{children:s("div",{className:"col-lg-6 shadow-sm mt-4 mb-2 mb-lg-0",children:[t("table",{className:"table-auto",children:s("tbody",{children:[s("tr",{children:[s("td",{className:"px-2 px-md-4 py-2 font-semibold",children:["Developer"," "]}),s("td",{className:"px-2 px-md-4 py-2 font-normal",children:[":\xA0\xA0\xA0 ",e.developer.firmName]})]}),s("tr",{children:[s("td",{className:"px-2 px-md-4 py-2 font-semibold",children:["Scope"," "]}),s("td",{className:"px-2 px-md-4 py-2  font-normal",children:[":\xA0\xA0\xA0",e.scope.expertise]})]}),s("tr",{children:[t("td",{className:"px-2 px-md-4 py-2 font-semibold",children:"Approximate EOI Value"}),s("td",{className:"px-2 px-md-4 py-2 font-normal",children:[":\xA0\xA0\xA0 \u20B9 ",e.maxContractValue]})]}),s("tr",{children:[t("td",{className:"px-2 px-md-4 py-2 font-semibold",children:"Start From"}),s("td",{className:"px-2 px-md-4 py-2 font-normal",children:[":\xA0\xA0\xA0 ",e.startDate]})]}),s("tr",{children:[t("td",{className:"px-2 px-md-4 py-2 font-semibold",children:"Last Date To Apply"}),s("td",{className:"px-2 px-md-4 py-2 font-normal",children:[":\xA0\xA0\xA0 ",e.lastDate]})]})]})}),t("hr",{className:"text-slate-400 m-3 "}),t("div",{className:"flex justify-end  ",children:t(n,{to:`/eoiViewDetails/${e._id}`,className:"bg-[#00adee] hover:bg-[#6fcaeb] text-white font-bold px-3 py-2 rounded flex items-center mb-2 md:mb-0 md:mr-2 md:mt-0",children:"View Profile"})})]})}))})]})};export{G as default};
