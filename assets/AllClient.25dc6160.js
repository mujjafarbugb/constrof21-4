import{r as n,j as r,a as t,L as g,F as u,Q as k}from"./index.81de7608.js";import{H as T}from"./HomeBredCurbs.e6fb8cac.js";import{P as H}from"./index.e770f043.js";import{h as L}from"./house.9786a1f6.js";import{I as z,a as V,b as $}from"./index.ad25d36c.js";import{M as E}from"./index.b3e2825e.js";import{a as m}from"./axios.74c9240f.js";import{F as G}from"./index.4608a536.js";import"./index.esm.b0dae23c.js";import"./iconBase.a00758a9.js";const se=()=>{n.exports.useState("Cancel"),n.exports.useState("bg-black-300");const[c,C]=n.exports.useState([]);n.exports.useState([]);const[_,S]=n.exports.useState([]),[p,b]=n.exports.useState(!1),I=localStorage.getItem("profile"),l=JSON.parse(I);console.log(17,l);const[a,A]=n.exports.useState(1),[x]=n.exports.useState(5),[v,q]=n.exports.useState(null),[h,P]=n.exports.useState(!1),j=()=>{window.history.back()},N=Math.ceil(c.length/x),f=e=>A(e),w=a*x,B=w-x;c.slice(B,w),n.exports.useEffect(()=>{m.get("https://constrobackend17-4.onrender.com/api/get_all_new_reciver").then(e=>{console.log(e.data.Result);let o=[...e.data.Result];v==="ascending"?o.sort((s,i)=>s.firmName.localeCompare(i.firmName)):v==="descending"&&o.sort((s,i)=>i.firmName.localeCompare(s.firmName)),C(e.data.Result)}).catch(e=>{console.log(e)}),m.get("https://constrobackend17-4.onrender.com/api/get_All_vendorBankReq").then(e=>{console.log(45,e.data.Result),S(e.data.Result)}).catch(e=>{console.log(e)})},[p]);const D=e=>{q(e),y()},y=()=>{P(!h)},F=(e,o,s,i)=>{const R={providerId:l._id,ContractorPro_firmName:l.firmName,ContractorPro_firmRepresentative:l.firmRepresentative,ContractorPro_representativeDesignation:l.representativeDesignation,receiverId:e,clientRec_firmName:o,clientRec_firmRepresentative:s,clientRec_representativeDesignation:i,who_sendReq:"contractor_to_client"};console.log(85,R),m.post("https://constrobackend17-4.onrender.com/api/post_vendorBankReq",R).then(d=>{console.log(d.data),b(!p),k.success(d.data.message)}).catch(d=>{console.log(95,d)})},O=e=>(console.log(99,e),_.some(s=>s.receiverId===e&&s.providerId===(l==null?void 0:l._id)&&s.isAccepted===!1&&s.isActive===!0&&s.who_sendReq==="contractor_to_client")),M=e=>{const o={receiverId:e,providerId:l._id};m.post("https://constrobackend17-4.onrender.com/api/cancelVendorBankRequest",o).then(s=>{console.log(s.data),b(!p),k.success(s.data.message)}).catch(s=>{console.log(s)})};return r("div",{children:[t(T,{title:"All Clients "}),r("div",{className:"flex items-center text-slate-400 ",children:[r(g,{to:"",className:"flex items-center text-sm hover:underline hover:font-semibold hover:text-blue-400 cursor-pointer gap-1",onClick:j,children:[t(z,{className:"text-xl font-semibold"}),"Back"]}),t("span",{className:"mx-2",children:" / "}),r(g,{to:"/ContractorDash",className:"flex items-center text-sm  hover:underline hover:font-semibold hover:text-blue-400 cursor-pointer gap-1",children:[t(E,{className:"text-lg font-semibold"}),"Home"]}),r("div",{className:"ml-auto relative flex items-center",children:[r("div",{className:"ml-4 relative",children:[t("div",{className:"absolute inset-y-0 left-0 pl-1 flex items-center pointer-events-none",children:t("svg",{className:"h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:t("path",{fillRule:"evenodd",d:"M13.442 14.858c1.288-1.195 2.042-2.843 2.042-4.599C15.484 6.241 12.243 3 8.242 3 4.242 3 1 6.241 1 10.259c0 4.019 3.242 7.26 7.242 7.26 1.498 0 2.895-.474 4.084-1.282l3.942 3.942c.195.195.451.293.707.293.244 0 .512-.097.707-.293a.999.999 0 000-1.414l-3.942-3.942zM8.242 15.259c-3.252 0-5.892-2.64-5.892-5.892 0-3.252 2.64-5.892 5.892-5.892 3.252 0 5.892 2.64 5.892 5.892 0 3.252-2.64 5.892-5.892 5.892z",clipRule:"evenodd"})})}),t("input",{type:"text",placeholder:"Search...",className:"pl-10 border border-gray-300 rounded-md py-2 px-4 text-sm focus:outline-none focus:border-blue-400 shadow-md"})]}),t("div",{className:"mx-3 ",children:r("button",{className:"gap-4 flex items-center text-sm hover:font-semibold hover:text-blue-400 cursor-pointer shadow-md px-4 py-2 ",onClick:y,children:[r("span",{className:"flex items-center gap-2",children:[t(G,{}),"Filters"]}),h?t(V,{className:"text-xl"}):t($,{className:"text-xl"})]})}),h&&t("div",{className:"absolute right-0 w-[165px] rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5",style:{marginTop:"8rem"},children:r("div",{className:"py-1 text-center",children:[t("button",{className:"block px-4 py-2 text-sm text-gray-400 hover:bg-gray-50 hover:text-gray-900",onClick:()=>D("ascending"),children:"Sort ascending"}),t("button",{className:"block px-4 py-2 text-sm text-gray-400 hover:bg-gray-50 hover:text-gray-900",children:"Sort by time"})]})})]})]}),c==null?void 0:c.map((e,o)=>t(u,{children:t("div",{class:" bg-white shadow rounded-lg w-full mt-3",children:r("div",{class:"latest_jobs flex flex-col md:flex-row items-center text-center md:text-left w-full md:w-auto hover:bg-black-50",children:[t("div",{class:" rounded-full md:mb-0 md:mr-4 p-2",children:t("img",{className:"h-[70px] w-[70px] rounded-full ",src:L,alt:""})}),r("div",{class:"flex-1 md:px-3 md:text-left",children:[t("h4",{className:"text-xl font-semibold text-color-white md:mt-0",children:e.firmName}),t("div",{class:" flex flex-col items-center md:flex-row md:items-center justify-center md:justify-start",children:r("span",{class:"card-subtitle text-slate-400 text-sm font-normal flex items-center md:mr-2",children:[t(H,{className:"text-2xl text-slate-500"}),r("span",{className:"text-lg",children:[" ","\xA0",e.firmRepresentative," |"," ",e.representativeDesignation]})]})})]}),t("div",{class:"flex justify-center mt-2",children:t(g,{to:`/viewDetail3/${e._id}`,class:"bg-[#00adee] hover:bg-[#6fcaeb] text-white font-bold px-3 py-2 rounded flex items-center",children:"View Profile"})}),t("div",{className:"flex justify-center mt-2 mx-3",children:O(e._id)?t(u,{children:t("button",{className:`text-white font-bold px-4 py-2 rounded flex items-center 
                    bg-danger`,onClick:s=>{M(e._id)},children:"Cancel"})}):t(u,{children:t("button",{className:`text-white font-bold px-4 py-2 rounded flex items-center 
                    bg-[#1fcfcd]`,onClick:s=>{F(e._id,e.firmName,e.firmRepresentative,e.representativeDesignation)},children:"+ Add"})})})]})})})),t("div",{className:"flex justify-center my-4",children:r("nav",{className:"relative z-0 inline-flex shadow-sm",children:[t("button",{onClick:()=>f(a-1),disabled:a===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-[#00adee] text-sm font-medium text-white ",children:"Previous"}),[...Array(N)].map((e,o)=>t("button",{onClick:()=>f(o+1),className:`-ml-px relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium ${a===o+1?"text-[#00adee]":"text-gray-400 hover:bg-gray-50"}`,children:o+1},o)),t("button",{onClick:()=>f(a+1),disabled:a===N,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-[#00adee] text-sm font-medium text-white",children:"Next"})]})})]})};export{se as default};
